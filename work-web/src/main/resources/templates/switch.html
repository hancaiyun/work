<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>表单</title>
    <link rel="stylesheet" href="../static/frame/layui/css/layui.css">
    <link rel="stylesheet" href="../static/frame/static/css/style.css">
    <link rel="icon" href="../static/frame/static/image/code.png">
</head>
<body class="body">


<blockquote class="layui-elem-quote layui-text">
    1、双数据源切换控制，目前支持MongoDB、MySQL的切换<br/>
    2、缓存机制的开关控制
</blockquote>

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>数据源切换开关</legend>
</fieldset>

<form class="layui-form" action="">
    <div class="layui-form-item" pane="">
        <label class="layui-form-label">数据源切换</label>
        <div class="layui-input-block">
            <input type="radio" name="switchCheck" value="MySQL" title="MySQL" checked="">
            <input type="radio" name="switchCheck" value="MongoDB" title="MongoDB">
            <input type="radio" name="switchCheck" value="禁" title="禁用" disabled="">
        </div>
    </div>
</form>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 50px;">
    <legend>缓存开关（Redis）</legend>
</fieldset>
<form class="layui-form layui-form-pane" action="">
    <div class="layui-form-item" pane="">
        <label class="layui-form-label">开关</label>
        <div class="layui-input-block">
            <input type="checkbox" checked="" name="" lay-skin="switch" lay-filter="cache" title="开关">
        </div>
    </div>
</form>

<script src="../static/frame/layui/layui.js" charset="utf-8"></script>
<script>
    layui.use(['form', 'layedit', 'laydate'], function(){
        var form = layui.form
                ,layer = layui.layer

        //监听数据源开关
        form.on('switch(switchCheck)', function(data){

            if(this.checked){
                layer.msg('开关状态：'+ (this.checked ? '开' : '关'), {
                    offset: '6px'
                });
            }
            //this.checked = false;
            layer.tips('温馨提示：不允许数据源同时开启', data.othis)
        });

    });
</script>
</body>
</html>